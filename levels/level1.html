<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>CyberSavvy - Level 1</title>


  <link rel="stylesheet" href="level1.css" />


  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>


  <script src="level1.js" defer></script>
</head>
<body>

  <div class="level-bg"></div>
  <canvas id="levelCanvas"></canvas>


  <nav class="bubble-bar-right">
    <a href="../levels.html" class="bubble">
      <span class="label">Play Game</span>
      <img src="../assets/images/controller-icon.png" alt="Play Game" />
    </a>
    <a href="../learn.html" class="bubble">
      <span class="label">Learn</span>
      <img src="../assets/images/book-icon.png" alt="Learn" />
    </a>
    <a href="../leaderboard.html" class="bubble">
      <span class="label">Leaderboard</span>
      <img src="../assets/images/trophy-icon.png" alt="Leaderboard" />
    </a>
    <a href="../settings.html" class="bubble">
      <span class="label">Settings</span>
      <img src="../assets/images/settings-icon.png" alt="Settings" />
    </a>
    <a href="../help.html" class="bubble">
      <span class="label">Help</span>
      <img src="../assets/images/help-icon.png" alt="Help" />
    </a>
  </nav>


  <a href="../index.html" class="home-button" id="homeBtn">Home</a>


  <header class="level-header">
    <div class="level-chip">Level 1</div>
    <div>
      <h1 class="level-title">Password Fortress Reforged</h1>
      <p class="level-subtitle">Craft the ultimate password and watch your neon castle rise.</p>
    </div>
  </header>


  <main class="level-main">

    <div class="level-left">
      <div class="castle-card">
        <div class="castle-hacker-row">
          <div class="castle-stage">
            <div class="castle-silhouette"></div>
            <div class="castle-container">
              <img src="../assets/images/castle-part1.png" class="castle-part part1 piece-hidden" alt="Castle Part 1">
              <img src="../assets/images/castle-part2.png" class="castle-part part2 piece-hidden" alt="Castle Part 2">
              <img src="../assets/images/castle-part3.png" class="castle-part part3 piece-hidden" alt="Castle Part 3">
              <img src="../assets/images/castle-part4.png" class="castle-part part4 piece-hidden" alt="Castle Part 4">
            </div>
          </div>
          <div class="hacker-wrapper">
            <img src="../assets/images/hacker-normal.png" alt="Hacker" class="hacker-img" id="hackerImg">
            <div class="speech-bubble" id="hackerBubble">"â€¦easy pickings."</div>
          </div>
        </div>
        <div class="castle-progress">
          <div class="castle-label">Fortress build progress</div>
          <div class="strength-meter bigger-meter">
            <div class="meter-bar" id="meterBar"></div>
          </div>
        </div>
      </div>
    </div>


    <div class="level-right">
      <div class="cyber-card">
        <div class="card-header">
          <div>
            <p class="eyebrow">Challenge</p>
            <h2 class="cyber-instructions" id="cyberInstructions"></h2>
          </div>
          <button id="tipBtn" class="ghost-btn">Need a hint?</button>
        </div>


        <div class="password-panel">
          <div class="password-display" id="passwordDisplay" contenteditable="false">
            <span class="placeholder-text">Drag or tap tiles to build</span>
          </div>
          <div class="requirement-grid" id="requirementGrid"></div>
        </div>

        <div class="tile-section" id="rookieArea">
          <div class="tile-header">
            <div>
              <p class="eyebrow">Rookie tiles</p>
              <h3>Mix words, numbers & symbols</h3>
            </div>
            <button id="shuffleTiles" class="ghost-btn">Shuffle tiles</button>
          </div>
          <div class="tile-container" id="tileContainer"></div>
        </div>


        <div class="buttons-row">
          <button id="submitBtn" class="action-btn bigger-submit">Build My Fortress</button>
          <button id="resetBtn" class="secondary-btn bigger-submit">Reset</button>
        </div>

        <div class="result-area">
          <p id="feedbackText"></p>
          <p id="starRating"></p>
        </div>
      </div>
    </div>
  </main>


  <div class="popup-overlay hidden" id="difficultyPopup">
    <div class="popup-content popup-animated fancy-popup">
      <h2>Choose Your Challenge!</h2>
      <p>Pick a difficulty mode:</p>
      <button id="rookieBtn" class="popup-btn">Rookie</button>
      <button id="proBtn" class="popup-btn">Pro</button>
    </div>
  </div>


  <div class="popup-overlay hidden" id="leaveGamePopup">
    <div class="popup-content popup-animated fancy-popup">
      <h2>Leave the Game?</h2>
      <p>Are you sure you want to leave? Your progress will be lost.</p>
      <div class="popup-buttons">
        <button id="leaveYes" class="popup-btn">Yes</button>
        <button id="leaveNo" class="popup-btn">No</button>
      </div>
    </div>
  </div>


  <div class="popup-overlay hidden" id="quizPopup">
    <div class="popup-content popup-animated fancy-popup">
      <div id="quizQuestions"></div>
      <p id="quizFeedback"></p>
    </div>
  </div>


  <div class="popup-overlay hidden" id="tipPopup">
    <div class="popup-content popup-animated fancy-popup" id="tipContent">

    </div>
  </div>


  <div class="popup-overlay hidden" id="castleCompletePopup">
    <div class="popup-content popup-animated fancy-popup" id="castleCompleteContent">
      <div style="position: relative;">
 
        <div id="confettiContainer" style="position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none;"></div>
        <img src="../assets/images/castle-part4.png" alt="Castle Fully Built" style="max-width: 350px;" />
      </div>
      <h2>Fortress Complete!</h2>
      <button id="castleCompleteClose" class="popup-btn">Close</button>
    </div>
  </div>
</body>
</html>
